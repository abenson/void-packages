# Template file for 'KITScenarist'
pkgname=KITScenarist
version=0.7.2.rc9j
revision=1
create_wrksrc=yes
build_wrksrc="src"
build_style=qmake
hostmakedepends="pkg-config curl qt5-host-tools
 qt5-multimedia-devel qt5-svg-devel qt5-webengine-devel qt5-declarative-devel
 qt5-webchannel-devel qt5-location-devel"
makedepends="hunspell-devel qt5-location-devel qt5-multimedia-devel qt5-svg-devel
 qt5-webengine-devel qt5-declarative-devel qt5-webchannel-devel qt5-location-devel"
short_desc="Screenwriting software"
maintainer="Andrew Benson <abenson+void@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://kitscenarist.ru/en/index.html"
distfiles="https://github.com/dimkanovikov/KITScenarist/releases/download/${version}/src.tar.gz"
checksum=6fdafeeffb624f718c88fa50a4cf4ac51603d1c5f870c9f80fe7749afdf3aa71

case "$XBPS_TARGET_MACHINE" in
	arm*)
		broken="webengine not available for arm" ;;
	ppc|ppc-musl)
		broken="webengine not available for ppc32" ;;
	*) if [ "$XBPS_WORDSIZE" != "$XBPS_TARGET_WORDSIZE" ]; then
		broken="webengine missing unless word size matches"
	fi;;
esac

do_install() {
	vbin ../build/Release/bin/scenarist-desktop/Scenarist
}
